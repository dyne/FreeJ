#!/usr/bin/make -f

DEB_CONFIGURE_EXTRA_FLAGS= --enable-python
DEB_DH_INSTALL_SOURCEDIR=debian/tmp

include /usr/share/cdbs/1/rules/buildcore.mk
include /usr/share/cdbs/1/rules/debhelper.mk
include /usr/share/cdbs/1/class/autotools.mk
include /usr/share/cdbs/1/rules/dpatch.mk


common-build-arch common-build-indep::
	# scripting doc
	make -k -C doc/scripting

clean::
	make -k -C doc/scripting clean
	rm -f lib/javascript/editline/obj/*.o
	rm -f lib/javascript/editline/obj/*.a
	rm -f lib/javascript/fdlibm/obj/*.o
	rm -f lib/javascript/fdlibm/obj/*.a
	rm -f lib/javascript/obj/*.o
	rm -f lib/javascript/obj/*.a
	rm -f lib/javascript/obj/*.so
	rm -f lib/javascript/obj/jsautocfg.h
	rm -f lib/javascript/obj/js
	rm -f lib/javascript/obj/jscpucfg
	rm -f lib/goom/Makefile

common-install-arch common-install-indep::
	rm -rf $(CURDIR)/debian/freej/usr/share/doc/freej-*
	rm -rf $(CURDIR)/debian/freej/usr/share/freej/AUTHORS
	rm -rf $(CURDIR)/debian/freej/usr/share/freej/COPYING
	rm -rf $(CURDIR)/debian/freej/usr/share/freej/README


